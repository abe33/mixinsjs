(function(){var a,b,c,d,e,f=[].slice,g=[].indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(b in this&&this[b]===a)return b;return-1};mixins.Aliasable=function(){function a(){}return a.alias=function(){var a,b,c,d,e,g,h,i,j,k;if(d=arguments[0],b=2<=arguments.length?f.call(arguments,1):[],c=Object.getPropertyDescriptor(this.prototype,d),null!=c){for(j=[],e=0,h=b.length;h>e;e++)a=b[e],j.push(Object.defineProperty(this.prototype,a,c));return j}if(null!=this.prototype[d]){for(k=[],g=0,i=b.length;i>g;g++)a=b[g],k.push(this.prototype[a]=this.prototype[d]);return k}},a}(),mixins.AlternateCase=function(){function a(){}return a.toSnakeCase=function(a){return a.replace(/([a-z])([A-Z])/g,"$1_$2").split(/_+/g).join("_").toLowerCase()},a.toCamelCase=function(a){var b,c,d,e,f;for(b=a.toLowerCase().split(/[_\s-]/),c=b.shift(),e=0,f=b.length;f>e;e++)d=b[e],c=""+c+utils.capitalize(d);return c},a.convert=function(a){var b,c,d,e,f,g;f=this.prototype,g=[];for(d in f)e=f[d],b=this[a](d),c=Object.getPropertyDescriptor(this.prototype,d),null!=c?g.push(Object.defineProperty(this.prototype,b,c)):g.push(this.prototype[b]=e);return g},a.snakify=function(){return this.convert("toSnakeCase")},a.camelize=function(){return this.convert("toCamelCase")},a}(),a=function(){var a,b;for(b=[],d=a=0;24>=a;d=++a)b.push(new Function("return new arguments[0]("+function(){var a,b;for(b=[],e=a=0;d>=0?d>=a:a>=d;e=d>=0?++a:--a)0!==e&&b.push("arguments[1]["+(e-1)+"]");return b}().join(",")+");"));return b}(),c=function(b,c){var d;return d=a[null!=c?c.length:0],d(b,c)},mixins.Cloneable=function(){var a,b;return b=1<=arguments.length?f.call(arguments,0):[],a=function(){function a(){}return a.included=0===b.length?function(a){return a.prototype.clone=function(){return new a(this)}}:function(a){return a.prototype.clone=function(){var d=this;return c(a,b.map(function(a){return d[a]}))}},a}()},mixins.Cloneable._name="Cloneable",mixins.Delegation=function(){function a(){}return a.delegate=function(){var a,b,c,d,e,g,h=this;return d=2<=arguments.length?f.call(arguments,0,g=arguments.length-1):(g=0,[]),b=arguments[g++],null==b&&(b={}),a=b.to,c=b.prefix,e=b["case"]||mixins.CAMEL_CASE,d.forEach(function(b){var d;if(d=b,c)switch(e){case mixins.SNAKE_CASE:d=a+"_"+b;break;case mixins.CAMEL_CASE:d=a+b.replace(/^./,function(a){return a.toUpperCase()})}return Object.defineProperty(h.prototype,d,{enumerable:!0,configurable:!0,get:function(){return this[a][b]},set:function(c){return this[a][b]=c}})})},a}(),mixins.Equatable=function(){var a,b;return b=1<=arguments.length?f.call(arguments,0):[],a=function(){function a(){}return a.prototype.equals=function(a){var c=this;return null!=a&&b.every(function(b){return null!=c[b].equals?c[b].equals(a[b]):a[b]===c[b]})},a}()},mixins.Equatable._name="Equatable",mixins.Formattable=function(){var a,b,c;return b=arguments[0],c=2<=arguments.length?f.call(arguments,1):[],a=function(){function a(){}return a.prototype.toString=0===c.length?function(){return"["+b+"]"}:function(){var a,d;return a=function(){var a,b,e;for(e=[],a=0,b=c.length;b>a;a++)d=c[a],e.push(""+d+"="+this[d]);return e}.call(this),"["+b+"("+a.join(", ")+")]"},a.prototype.classname=function(){return b},a}()},mixins.Formattable._name="Formattable",b=["globalizable","unglobalizable","globalized","globalize","unglobalize","globalizeMember","unglobalizeMember","keepContext","previousValues","previousDescriptors"],mixins.Globalizable=function(a,c){var d;return null==c&&(c=!0),d=function(){function d(){}return d.unglobalizable=b.concat(),d.prototype.keepContext=c,d.prototype.globalize=function(){var a=this;if(!this.globalized)return this.previousValues={},this.previousDescriptors={},this.globalizable.forEach(function(b){return g.call(a.constructor.unglobalizable||d.unglobalizable,b)<0?a.globalizeMember(b):void 0}),this.globalized=!0},d.prototype.unglobalize=function(){var a=this;if(this.globalized)return this.globalizable.forEach(function(b){return g.call(a.constructor.unglobalizable||d.unglobalizable,b)<0?a.unglobalizeMember(b):void 0}),this.previousValues=null,this.previousDescriptors=null,this.globalized=!1},d.prototype.globalizeMember=function(b){var d,e,f,g,h;return d=Object.getPropertyDescriptor(a,b),e=Object.getPropertyDescriptor(this,b),null!=d?this.previousDescriptors[b]=d:null!=this[b]&&null!=a[b]&&(this.previousValues[b]=a),null!=e?(c&&(null!=e.get||null!=e.set?(e.get=null!=(g=e.get)?g.bind(this):void 0,e.set=null!=(h=e.set)?h.bind(this):void 0):"function"==typeof e.value&&(e.value=e.value.bind(this))),Object.defineProperty(a,b,e)):(f=this[b],"function"==typeof f&&c&&(f=f.bind(this)),Object.defineProperty(a,b,{value:f,enumerable:!0,writable:!0,configurable:!0}))},d.prototype.unglobalizeMember=function(b){return null!=this.previousDescriptors[b]?Object.defineProperty(a,b,this.previousDescriptors[b]):a[b]=null!=this.previousValues[b]?this.previousValues[b]:void 0},d}()},mixins.Globalizable._name="Globalizable",mixins.HasAncestors=function(a){var b,c;return null==a&&(a={}),c=a.through||"parent",b=function(){function a(){}return a.getter("ancestors",function(){var a,b;for(a=[],b=this[c];null!=b;)a.push(b),b=b[c];return a}),a.getter("selfAndAncestors",function(){return[this].concat(this.ancestors)}),a.ancestorsScope=function(a,b){return this.getter(a,function(){return this.ancestors.filter(b,this)})},a}()},mixins.HasAncestors._name="HasAncestors",mixins.HasCollection=function(a,b){var c,d,e;return d=a.replace(/^./,function(a){return a.toUpperCase()}),e=b.replace(/^./,function(a){return a.toUpperCase()}),c=function(){function b(){}return b.extend(mixins.Aliasable),b[""+a+"Scope"]=function(b,c){return this.getter(b,function(){return this[a].filter(c,this)})},b.getter(""+a+"Size",function(){return this[a].length}),b.alias(""+a+"Size",""+a+"Length",""+a+"Count"),b.prototype["has"+e]=function(b){return g.call(this[a],b)>=0},b.alias("has"+e,"contains"+e),b.getter("has"+d,function(){return this[a].length>0}),b.prototype["add"+e]=function(b){return this["has"+e](b)?void 0:this[a].push(b)},b.prototype["remove"+e]=function(b){return this["has"+e](b)?this[a].splice(this["find"+e](b),1):void 0},b.prototype["find"+e]=function(b){return this[a].indexOf(b)},b.alias("find"+e,"indexOf"+e),b}()},mixins.HasCollection._name="HasCollection",mixins.HasNestedCollection=function(a,b){var c,d;if(null==b&&(b={}),d=b.through,null==d)throw new Error("missing through option");return c=function(){function b(){}return b[""+a+"Scope"]=function(b,c){return this.getter(b,function(){return this[a].filter(c,this)})},b.getter(a,function(){var b;return b=[],this[d].forEach(function(c){return b.push(c),null!=c[a]?b=b.concat(c[a]):void 0}),b}),b}()},mixins.HasNestedCollection._name="HasNestedCollection",mixins.Memoizable=function(){function a(){}return a.prototype.memoized=function(a){var b;return this.memoizationKey()===this.__memoizationKey__?null!=(null!=(b=this.__memo__)?b[a]:void 0):(this.__memo__={},!1)},a.prototype.memoFor=function(a){return this.__memo__[a]},a.prototype.memoize=function(a,b){return this.__memo__||(this.__memo__={}),this.__memoizationKey__=this.memoizationKey(),this.__memo__[a]=b},a.prototype.memoizationKey=function(){return this.toString()},a}(),mixins.Parameterizable=function(a,b,c){var d;return null==c&&(c=!1),d=function(){function d(){}return d.included=function(d){var e;return e=function(){var a,d,e,g,h,i,j,k,l,m,n;a=2<=arguments.length?f.call(arguments,0,n=arguments.length-1):(n=0,[]),k=arguments[n++],"number"==typeof k&&(a.push(k),k=!1),j={},i=arguments[0],h=0,d=null!=i&&"object"==typeof i;for(e in b)if(l=b[e],m=d?i[e]:arguments[h++],j[e]=parseFloat(m),isNaN(j[e])){if(k)throw g=function(){var a,c,d;for(d=[],a=0,c=b.length;c>a;a++)e=b[a],d.push(e);return d}().join(", "),new Error(""+j+" doesn't match pattern {"+g+"}");c?delete j[e]:j[e]=l}return j},d[a]=e,d.prototype[a]=e},d}()},mixins.Parameterizable._name="Parameterizable",mixins.Poolable=function(){function a(){}return a.extended=function(a){return a.usedInstances=[],a.unusedInstances=[]},a.get=function(a){var b;return null==a&&(a={}),b=this.unusedInstances.length>0?this.unusedInstances.shift():new this,this.usedInstances.push(b),b.init(a),b},a.release=function(a){var b;if(g.call(this.usedInstances,a)<0)throw new Error("Can't release an unused instance");return b=this.usedInstances.indexOf(a),this.usedInstances.splice(b,1),this.unusedInstances.push(a)},a.prototype.init=function(a){var b,c,d;null==a&&(a={}),d=[];for(b in a)c=a[b],d.push(this[b]=c);return d},a.prototype.dispose=function(){return this.constructor.release(this)},a}(),mixins.Sourcable=function(){var a,b,c;return b=arguments[0],c=2<=arguments.length?f.call(arguments,1):[],a=function(){function a(){}var d;return d=function(a){var b;switch(typeof a){case"object":return b=-1!==Object.prototype.toString.call(a).indexOf("Array"),b?"["+a.map(function(a){return d(a)})+"]":null!=a.toSource?a.toSource():a;case"string":return"'"+a.replace("'","\\'")+"'";default:return a}},a.prototype.toSource=function(){var a,e;return e=function(){var b,d,e;for(e=[],b=0,d=c.length;d>b;b++)a=c[b],e.push(this[a]);return e}.call(this).map(function(a){return d(a)}),"new "+b+"("+e.join(",")+")"},a}()},mixins.Sourcable._name="Sourcable"}).call(this);
//# sourceMappingURL=lib/mixins.min.js.map